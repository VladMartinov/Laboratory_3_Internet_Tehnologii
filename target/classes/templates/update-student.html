<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Update Student Last Name</title>
  </head>
  <body>
    <h1>Update Student Last Name</h1>
    <form id="updateForm" method="put">
      <label for="studentId">Student ID:</label><br>
      <input type="number" id="studentId" name="studentId" required><br>

      <label for="lastName">New Last Name:</label><br>
      <input type="text" id="lastName" name="lastName" required><br>

      <button type="submit">Update</button>
    </form>

    <script>
      document.getElementById('updateForm').addEventListener('submit', function(event) {
          event.preventDefault();

          const studentId = document.getElementById('studentId').value;
          const lastName = document.getElementById('lastName').value;

          fetch(`/students/${studentId}?lastName=${lastName}`, {
              method: 'PUT',
          })
              .then(response => {
                  if (response.ok) {
                      alert('Last name updated successfully!');
                  } else {
                      alert('Error updating last name.');
                  }
              })
              .catch(error => {
                  console.error('Error:', error);
              });
      });
    </script>
  </body>
</html>